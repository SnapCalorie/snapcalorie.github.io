"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[639],{3606:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var a=n(7462),i=(n(7294),n(3905));const r={id:"analysis",title:"Analysis API",sidebar_label:"Analysis"},s=void 0,o={unversionedId:"analysis",id:"analysis",isDocsHomePage:!1,title:"Analysis API",description:"Endpoint",source:"@site/docs/1-analysis.md",sourceDirName:".",slug:"/analysis",permalink:"/docs/analysis",editUrl:"https://docs.snapcalorie.com/docs/1-analysis.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"analysis",title:"Analysis API",sidebar_label:"Analysis"},sidebar:"tutorialSidebar",next:{title:"Nutrition",permalink:"/docs/nutrition"}},l=[{value:"Endpoint",id:"endpoint",children:[]},{value:"Method",id:"method",children:[]},{value:"Description",id:"description",children:[]},{value:"URL",id:"url",children:[]},{value:"Query Parameters",id:"query-parameters",children:[]},{value:"Sample Request",id:"sample-request",children:[]},{value:"Sample Responses",id:"sample-responses",children:[]},{value:"Notes",id:"notes",children:[]},{value:"Get Started",id:"get-started",children:[]}],p={toc:l},d="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"endpoint"},"Endpoint"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"/analysis")),(0,i.kt)("h3",{id:"method"},"Method"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"GET")),(0,i.kt)("h3",{id:"description"},"Description"),(0,i.kt)("p",null,"The Analysis API performs an analysis of food items from a provided description and/or an image URL. It uses SnapCalorie's proprietary model to interpret the input and returns a JSON representation of identified foods and their quantities with corresponding nutrition. Read about ",(0,i.kt)("a",{parentName:"p",href:"https://openaccess.thecvf.com/content/CVPR2021/papers/Thames_Nutrition5k_Towards_Automatic_Nutritional_Understanding_of_Generic_Food_CVPR_2021_paper.pdf"},"our prior research")," where our team achieved twice the accuracy on nutrition from an image compared to professional nutritionists."),(0,i.kt)("h3",{id:"url"},"URL"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"https://us-central1-snapcalorieb2bapi.cloudfunctions.net/analysis\n")),(0,i.kt)("h3",{id:"query-parameters"},"Query Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"key"),": The API key for authentication (required)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"description"),": Free text description of food items (optional)*."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"image_url"),": URL of an image containing food items (optional)*.")),(0,i.kt)("p",null,"*At least one of ",(0,i.kt)("inlineCode",{parentName:"p"},"description")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"image_url")," must be present."),(0,i.kt)("h3",{id:"sample-request"},"Sample Request"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X GET 'https://us-central1-snapcalorieb2bapi.cloudfunctions.net/analysis?key=YOUR_API_KEY&description=YOUR_DESCRIPTION&image_url=YOUR_IMAGE_URL'\n")),(0,i.kt)("h3",{id:"sample-responses"},"Sample Responses"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Success Response:")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": 200,\n  "data":\n    [\n      {\n        "name": "Big Mac",\n        "brand": "McDonald\'s",\n        "quantity": 1,\n        "unit": "burger",\n        "nutritional_values": {\n          "calories_kcal": 590,\n          "carb_g": 46,\n          "fiber_g": 3,\n          "sugar_g": 9,\n          "fat_g": 34,\n          "protein_g": 25,\n          "sodium_mg": 1050,\n          "mass_g": 220,\n          "vitamin_a_mcg": 0,\n          "vitamin_c_mg": 0,\n          "vitamin_d_iu": 0,\n          "calcium_mg": 120,\n          "iron_mg": 4.5,\n          "potassium_mg": 390,\n          "cholesterol_mg": 85,\n          "saturated_fats_g": 11,\n          "trans_fats_g": 1,\n          "omega_3_fatty_acids_g": 0,\n          "percent_fruit": 0, // From 0-1\n          "percent_vegetable": 0.05, // From 0-1\n          "source_urls": [ "https://fdc.nal.usda.gov/fdc-app.html#/food-details/170720/nutrients" ]\n        }\n      }\n    ]\n}\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Error Response:")))),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"/docs/error"},"Error Responses")," for how the API will signal malformed or failed requests."),(0,i.kt)("h3",{id:"notes"},"Notes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Replace ",(0,i.kt)("inlineCode",{parentName:"li"},"YOUR_API_KEY"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"YOUR_DESCRIPTION"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"YOUR_IMAGE_URL")," with your actual values."),(0,i.kt)("li",{parentName:"ul"},"Ensure that your requests are sent over HTTPS to maintain security."),(0,i.kt)("li",{parentName:"ul"},"The response format is JSON, providing a list of identified food items and their details."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"brand")," is an optional field that is only set if relevant to the query.")),(0,i.kt)("h3",{id:"get-started"},"Get Started"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://buy.stripe.com/6oE9D780V0Di6KAdR3"},"Request an API Key")))}u.isMDXComponent=!0}}]);